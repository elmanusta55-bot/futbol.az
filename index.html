<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<title>Futbol.Az - CanlÄ±</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0c1118;
  --card:#141b26;
  --gold:#f5c542;
  --text:#f2f2f2;
  --soft:#1f2a38;
  --green:#28a745;
  --red:#e74c3c;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background:linear-gradient(135deg,#070b11,#0c1118);
  color:var(--text);
  padding-bottom: 50px;
}

a{text-decoration:none;color:inherit;transition:0.3s}

header{
  background:#060a10;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:15px 20px;
  position:sticky;
  top:0;
  z-index:999;
  border-bottom:1px solid #1e2835;
  box-shadow: 0 4px 15px rgba(0,0,0,0.5);
}

.logo{
  font-size:22px;
  font-weight:700;
  color:var(--gold);
}

.section{
  max-width:800px;
  margin:20px auto;
  background:#101826;
  border:1px solid #1f2a3a;
  padding:20px;
  border-radius:16px;
  box-shadow:0 5px 25px rgba(0,0,0,.6);
  min-height: 150px;
}

.section h2{
  margin:0 0 15px;
  border-left:4px solid var(--gold);
  padding-left:12px;
  font-weight:700;
  font-size: 1.4rem;
  color: #fff;
}

/* Oyun KartÄ± DizaynÄ± */
.match-card {
  background: linear-gradient(145deg, #161e2c, #131a25);
  border: 1px solid #253346;
  padding: 15px;
  border-radius: 12px;
  margin-bottom: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: transform 0.2s;
}

.match-card:hover {
  transform: translateY(-2px);
  border-color: var(--gold);
}

.teams {
  display: flex;
  flex-direction: column;
  gap: 5px;
  font-weight: 500;
  font-size: 0.95rem;
}

.team-row {
  display: flex;
  justify-content: space-between;
  width: 200px; /* Sabit geniÅŸlik */
}

.score-badge {
  font-weight: bold;
  color: var(--gold);
}

.match-info {
  text-align: right;
  min-width: 80px;
}

.status {
  font-size: 0.8rem;
  padding: 4px 8px;
  border-radius: 6px;
  background: #1f2a38;
  color: #aaa;
  display: inline-block;
}

.live-status {
  background: rgba(231, 76, 60, 0.2);
  color: var(--red);
  font-weight: bold;
  animation: pulse 1.5s infinite;
}

.time {
  display: block;
  font-size: 1.1rem;
  font-weight: bold;
  color: #fff;
  margin-top: 5px;
}

@keyframes pulse {
  0% {opacity: 1;}
  50% {opacity: 0.6;}
  100% {opacity: 1;}
}

/* YÃ¼klÉ™nmÉ™ AnimasiyasÄ± */
.loader {
  border: 4px solid #1f2a38;
  border-top: 4px solid var(--gold);
  border-radius: 50%;
  width: 30px;
  height: 30px;
  animation: spin 1s linear infinite;
  margin: 20px auto;
  display: none; /* JS ilÉ™ aktivlÉ™ÅŸÉ™cÉ™k */
}

.error-msg {
  color: var(--red);
  text-align: center;
  padding: 10px;
  background: rgba(231, 76, 60, 0.1);
  border-radius: 8px;
  display: none;
}

@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

footer{
  background:#05080d;
  text-align:center;
  padding:20px;
  font-size:14px;
  color:#777;
  border-top: 1px solid #1e2835;
  margin-top: 40px;
}
</style>
</head>

<body>

<header>
  <div class="logo">âš½ Futbol.Az API</div>
</header>

<section id="live-section" class="section">
  <h2>ðŸ”´ CanlÄ± Oyunlar</h2>
  <div id="live-loader" class="loader"></div>
  <div id="live-error" class="error-msg"></div>
  <div id="live-container">
    <div style="text-align:center; color:#555; padding:10px;">HazÄ±rda canlÄ± oyun yoxdur vÉ™ ya yÃ¼klÉ™nir...</div>
  </div>
</section>

<section id="today-section" class="section">
  <h2>ðŸ“… GÃ¼nÃ¼n OyunlarÄ± (PlanlaÅŸdÄ±rÄ±lan)</h2>
  <div id="today-loader" class="loader"></div>
  <div id="today-error" class="error-msg"></div>
  <div id="today-container">
    </div>
</section>

<footer>
  <p>Â© 2026 Futbol.Az | Real-Time API Data</p>
</footer>

<script>
// ==========================================
// âš ï¸ API AÃ‡ARINI AÅžAÄžIYA DAXÄ°L EDÄ°N âš ï¸
// ==========================================
const API_KEY = '08b9796bd6c04748abe1d859163f0bcb'; 
// MÉ™sÉ™lÉ™n: 'a1b2c3d4e5f6...' 

const BASE_URL = 'https://api.football-data.org/v4';

// ElementlÉ™ri seÃ§irik
const liveContainer = document.getElementById('live-container');
const todayContainer = document.getElementById('today-container');
const loaders = document.querySelectorAll('.loader');

// Tarixi formatlamaq Ã¼Ã§Ã¼n funksiya (Saat:DÉ™qiqÉ™)
function formatTime(isoDate) {
    const date = new Date(isoDate);
    return date.toLocaleTimeString('az-AZ', { hour: '2-digit', minute: '2-digit' });
}

// API-dÉ™n mÉ™lumat Ã§É™kÉ™n É™sas funksiya
async function fetchMatches() {
    // YÃ¼klÉ™nmÉ™ ikonlarÄ±nÄ± gÃ¶stÉ™r
    loaders.forEach(l => l.style.display = 'block');
    liveContainer.innerHTML = '';
    todayContainer.innerHTML = '';

    // API Key yoxdursa xÉ™bÉ™rdarlÄ±q et
    if(API_KEY === 'BURAYA_API_KEY_YAZIN' || API_KEY === '') {
        showError("ZÉ™hmÉ™t olmasa kodun iÃ§indÉ™ki API_KEY hissÉ™sinÉ™ Ã¶z aÃ§arÄ±nÄ±zÄ± yazÄ±n.");
        return;
    }

    try {
        // Bu gÃ¼nÃ¼n oyunlarÄ±nÄ± Ã§É™kirik
        const response = await fetch(`${BASE_URL}/matches`, {
            headers: { 'X-Auth-Token': API_KEY }
        });

        if (!response.ok) {
            throw new Error(`XÉ™ta baÅŸ verdi: ${response.status}`);
        }

        const data = await response.json();
        const matches = data.matches;

        // CanlÄ± vÉ™ PlanlaÅŸdÄ±rÄ±lan oyunlarÄ± ayÄ±rÄ±rÄ±q
        const liveMatches = matches.filter(m => ['IN_PLAY', 'PAUSED'].includes(m.status));
        const scheduledMatches = matches.filter(m => ['TIMED', 'SCHEDULED'].includes(m.status));
        const finishedMatches = matches.filter(m => m.status === 'FINISHED');

        renderMatches(liveMatches, liveContainer, true);
        renderMatches([...scheduledMatches, ...finishedMatches], todayContainer, false);

    } catch (error) {
        console.error(error);
        showError("MÉ™lumatlarÄ± yÃ¼klÉ™mÉ™k mÃ¼mkÃ¼n olmadÄ±. API Key-in dÃ¼zgÃ¼nlÃ¼yÃ¼nÃ¼ yoxlayÄ±n vÉ™ ya limit bitib.");
    } finally {
        loaders.forEach(l => l.style.display = 'none');
    }
}

// OyunlarÄ± HTML-É™ Ã§evirÉ™n funksiya
function renderMatches(matches, container, isLive) {
    if (matches.length === 0) {
        container.innerHTML = '<div style="text-align:center; color:#777;">Bu kateqoriyada oyun tapÄ±lmadÄ±.</div>';
        return;
    }

    matches.forEach(match => {
        const homeTeam = match.homeTeam.shortName || match.homeTeam.name;
        const awayTeam = match.awayTeam.shortName || match.awayTeam.name;
        const homeScore = match.score.fullTime.home ?? '-';
        const awayScore = match.score.fullTime.away ?? '-';
        const matchTime = formatTime(match.utcDate);
        
        let statusText = matchTime;
        let statusClass = "status";

        if (isLive) {
            statusText = "CANLI";
            statusClass = "status live-status";
        } else if (match.status === 'FINISHED') {
            statusText = "BÄ°TDÄ°";
        }

        const html = `
            <div class="match-card">
                <div class="teams">
                    <div class="team-row">
                        <span>${homeTeam}</span>
                        <span class="score-badge">${homeScore}</span>
                    </div>
                    <div class="team-row">
                        <span>${awayTeam}</span>
                        <span class="score-badge">${awayScore}</span>
                    </div>
                </div>
                <div class="match-info">
                    <span class="${statusClass}">${statusText}</span>
                    ${!isLive && match.status !== 'FINISHED' ? `<span class="time">${matchTime}</span>` : ''}
                </div>
            </div>
        `;
        container.innerHTML += html;
    });
}

function showError(msg) {
    document.getElementById('today-error').style.display = 'block';
    document.getElementById('today-error').innerText = msg;
    loaders.forEach(l => l.style.display = 'none');
}

// SÉ™hifÉ™ aÃ§Ä±landa iÅŸÉ™ sal
fetchMatches();

// HÉ™r 60 saniyÉ™dÉ™n bir yenilÉ™ (CanlÄ± nÉ™ticÉ™lÉ™r Ã¼Ã§Ã¼n)
setInterval(fetchMatches, 60000);

</script>

</body>
</html>
