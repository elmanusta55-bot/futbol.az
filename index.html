<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>Futbol.Az - CanlÄ± API</title>
    <style>
        /* Modern KaranlÄ±k Tema */
        body { background: #0c1118; color: #f2f2f2; font-family: sans-serif; }
        .container { max-width: 600px; margin: 20px auto; padding: 20px; }
        .section { background: #141b26; border-radius: 12px; padding: 15px; margin-bottom: 20px; border: 1px solid #1f2a3a; }
        h2 { border-left: 4px solid #f5c542; padding-left: 10px; font-size: 1.2rem; }
        
        /* MaÃ§ KartÄ± */
        .match { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #1f2a3a; }
        .teams { flex: 1; }
        .score { font-weight: bold; color: #f5c542; margin: 0 15px; }
        .status { font-size: 0.8rem; padding: 3px 7px; border-radius: 4px; background: #1f2a38; }
        .live { color: #ff4d4d; animation: blink 1s infinite; }
        
        @keyframes blink { 50% { opacity: 0.5; } }
        .loading { text-align: center; color: #777; }
    </style>
</head>
<body>

<div class="container">
    <div class="section">
        <h2>ðŸ”´ CanlÄ± Hesablar</h2>
        <div id="live-matches" class="loading">YÃ¼klÉ™nir...</div>
    </div>

    <div class="section">
        <h2>ðŸ“… GÃ¼nÃ¼n OyunlarÄ±</h2>
        <div id="today-matches" class="loading">YÃ¼klÉ™nir...</div>
    </div>
</div>

<script>
/**
 * BURAYA API KEYÄ°NÄ°ZÄ° YAZIN
 * football-data.org saytÄ±ndan pulsuz ala bilÉ™rsiniz.
 */
const API_KEY = '08b9796bd6c04748abe1d859163f0bcb'; 

async function getFootballData() {
    const url = 'https://api.football-data.org/v4/matches';
    
    try {
        const response = await fetch(url, {
            headers: { 'X-Auth-Token': API_KEY }
        });

        if (!response.ok) throw new Error('API HatasÄ±');

        const data = await response.json();
        renderMatches(data.matches);

    } catch (error) {
        console.error("MÉ™lumat gÉ™tirilÉ™rkÉ™n xÉ™ta:", error);
        document.querySelectorAll('.loading').forEach(el => el.innerText = "MÉ™lumat alÄ±namadÄ± (API Key yoxdur?)");
    }
}

function renderMatches(matches) {
    const liveContainer = document.getElementById('live-matches');
    const todayContainer = document.getElementById('today-matches');
    
    liveContainer.innerHTML = '';
    todayContainer.innerHTML = '';

    let liveCount = 0;

    matches.forEach(match => {
        const matchHtml = `
            <div class="match">
                <div class="teams">
                    ${match.homeTeam.shortName || match.homeTeam.name} - 
                    ${match.awayTeam.shortName || match.awayTeam.name}
                </div>
                <div class="score">
                    ${match.score.fullTime.home ?? 0} : ${match.score.fullTime.away ?? 0}
                </div>
                <div class="status ${match.status === 'IN_PLAY' ? 'live' : ''}">
                    ${match.status === 'IN_PLAY' ? 'CANLI' : match.utcDate.split('T')[1].substring(0, 5)}
                </div>
            </div>
        `;

        // EÄŸer maÃ§ ÅŸu an oynanÄ±yorsa CanlÄ± kÄ±smÄ±na, yoksa GÃ¼nÃ¼n maÃ§larÄ±na ekle
        if (match.status === 'IN_PLAY' || match.status === 'PAUSED') {
            liveContainer.innerHTML += matchHtml;
            liveCount++;
        } else {
            todayContainer.innerHTML += matchHtml;
        }
    });

    if (liveCount === 0) {
        liveContainer.innerHTML = '<div class="loading">HazÄ±rda canlÄ± oyun yoxdur.</div>';
    }
}

// Sayfa aÃ§Ä±ldÄ±ÄŸÄ±nda Ã§alÄ±ÅŸtÄ±r
getFootballData();

// Her 2 dakikada bir veriyi otomatik yenile (CanlÄ± skorlar iÃ§in)
setInterval(getFootballData, 120000);

</script>
</body>
</html>
